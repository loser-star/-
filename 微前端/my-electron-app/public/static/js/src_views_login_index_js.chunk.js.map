{"version":3,"file":"static/js/src_views_login_index_js.chunk.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAmBA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;ACxEA;AAEA","sources":["G:/github/my/微前端/meeting_room_booking_system_frontend_user/src/views/login/index.js","G:/github/my/微前端/meeting_room_booking_system_frontend_user/src/views/login/style.js"],"sourcesContent":["import { Button, Form, Input, message } from \"antd\";\r\nimport { LoginWrapper } from \"./style\";\r\nimport { login } from \"@/api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setUserInfo } from \"@/store/modules/home\";\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n  const onFinish = async (values) => {\r\n    const res = await login(values.username, values.password);\r\n    console.log(res);\r\n    if (res.status === 201 || res.status === 200) {\r\n      const { data } = res.data;\r\n      message.success(\"登录成功\");\r\n      localStorage.setItem(\"access_token\", data.accessToken);\r\n      localStorage.setItem(\"refresh_token\", data.refreshToken);\r\n      localStorage.setItem(\"user_info\", JSON.stringify(data.userInfo));\r\n      console.log(res.data);\r\n      dispatch(setUserInfo(data.userInfo));\r\n      setTimeout(() => {\r\n        window.location.href = \"/\";\r\n      }, 1500);\r\n    } else {\r\n      message.error(res.data.data || \"系统繁忙，请稍后再试\");\r\n    }\r\n  };\r\n\r\n  const layout1 = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 20 },\r\n  };\r\n\r\n  const layout2 = {\r\n    labelCol: { span: 0 },\r\n    wrapperCol: { span: 24 },\r\n  };\r\n\r\n  return (\r\n    <LoginWrapper>\r\n      <h1>会议室预订系统</h1>\r\n      <Form {...layout1} onFinish={onFinish} colon={false} autoComplete=\"off\">\r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[{ required: true, message: \"请输入用户名!\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"请输入密码!\" }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...layout2}>\r\n          <div className=\"links\">\r\n            <Link to=\"/register\">创建账号</Link>\r\n            <Link to=\"/update_password\">忘记密码</Link>\r\n          </div>\r\n        </Form.Item>\r\n\r\n        <Form.Item {...layout2}>\r\n          <Button className=\"btn\" type=\"primary\" htmlType=\"submit\">\r\n            登录\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </LoginWrapper>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const LoginWrapper = styled.div`\r\n  width: 400px;\r\n  margin: 100px auto 0 auto;\r\n  text-align: center;\r\n  .links {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .btn {\r\n    width: 100%;\r\n  }\r\n`;\r\n"],"names":[],"sourceRoot":""}